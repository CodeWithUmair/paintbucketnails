{%- assign custom_styles = section.settings.custom_styles -%}

<section class="section-shop-info lazyload circle-text-container" data-aos="fade">
  {% if section.settings.circle_text != blank %}
    <div class="circle-text text-center">
      <div class="text-wrap">
        {{ section.settings.circle_text }}
      </div>
    </div>
  {% endif %}

  <div class="page-width">
    <div class="flex--flexbox flex--wrap flex--justify-center flex--items-center">
      <div class="flex-item--one-third">
        {% if section.settings.text_one != blank %}
          <div class="text-wrap text-center">
            {{ section.settings.text_one }}
          </div>
        {% endif %}
      </div>
      <div class="flex-item--one-third">
        {% if section.settings.image_two != blank %}
          <div class="image-wrap text-center">
            <img 
              data-src="{{ section.settings.image_two  | img_url: '800x' }}" 
              data-srcset="
                {{ section.settings.image_two  | img_url: '800x' }} 1x, 
                {{ section.settings.image_two  | img_url: '800x', scale: 2 }} 2x
              " 
              alt="{{ section.settings.image_two.alt }}"
              class="lazyload"
            >
          </div>
        {% endif %}
      </div>
      <div class="flex-item--one-third">
        {% if section.settings.text_three != blank %}
          <div class="text-wrap text-center">
            {{ section.settings.text_three }}
          </div>
        {% endif %}
      </div>
    </div>
  </div>

  <style>
    #shopify-section-{{ section.id }} section.lazyloaded {
      background-image: url({{ section.settings.bg_image | img_url: '2000x' }});
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }

    {% if custom_styles != blank %}
      {{ custom_styles  }}
    {% endif %}
  </style>
</section>

{% schema %}
  {
    "name": "Shop Info",
    "settings": [
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background Image"
      },
      {
        "type": "text",
        "id": "circle_text",
        "label": "Circle Text",
        "default": "We're cuter IRL"
      },
      {
        "type": "header",
        "content": "Column One"
      },
      {
        "type": "textarea",
        "id": "text_one",
        "label": "Content",
        "default": "204 WYTHE AVENUE<br/>WILLIAMSBURG<br/>BROOKLYN, NEW YORK<br/>347-987-4700"
      },
      {
        "type": "header",
        "content": "Column Two"
      },
      {
        "type": "image_picker",
        "id": "image_two",
        "label": "Image"
      },
      {
        "type": "header",
        "content": "Column Three"
      },
      {
        "type": "textarea",
        "id": "text_three",
        "label": "Content",
        "default": "OPEN MON 12PM – 8PM<br/>TUES-SAT 10AM – 9PM<br/>SUNDAY 11AM – 8PM<br/>HELLO@PAINTBUCKETNAILS.COM"
      },
      {
        "type": "textarea",
        "id": "custom_styles",
        "label": "Custom Styles"
      }
    ],
    "presets": [
      {
        "name": "Shop Info",
        "category": "Text"
      }
    ]
  }
{% endschema %}
