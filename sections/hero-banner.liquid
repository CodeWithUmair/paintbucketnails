<section class="section-hero-banner {% if section.settings.large_foreground_image %}section-hero-banner--large-foreground-image{% endif %} lazyload" data-aos="fade" data-section-id="{{ section.id }}" data-section-type="hero-banner">

  <div class="page-width">

    <div class="flex--flexbox flex--wrap flex--justify-space-evenly image-pos-{{ section.settings.image_loc }} image-pos-mobile--{{ section.settings.image_loc_mobile }}">

      <div class="section-hero-banner__image flex-item flex-item--two-fifths image-wrap image-pos-{{ section.settings.image_loc }}">

        {% if section.settings.image != blank %}
          <div class="hero-banner__image-container">
            <img
              data-src="{{ section.settings.image  | img_url: '500x' }}"
              data-srcset="
                {{ section.settings.image  | img_url: '500x' }} 1x,
                {{ section.settings.image  | img_url: '500x', scale: 2 }} 2x
              "
              alt="{{ section.settings.image.alt }}"
              class="lazyload"
            >
          </div>
        {% endif %}

        {%- if section.settings.decorations == true -%}
          <span class="decoration decoration--image-1"></span>
          <span class="decoration decoration--image-2"></span>
          <span class="decoration decoration--image-3"></span>
          <span class="decoration decoration--image-4"></span>
        {%- endif -%}

      </div>

      <div class="section-hero-banner__content flex-item flex-item--two-fifths">
        <div class="text-wrap text-{{ section.settings.text_align }}">

          <div class="hero-banner__content-container">

            {% if section.settings.pre_heading != blank or section.settings.heading != blank %}
              <h2>
                {% if section.settings.pre_heading != blank %}
                  <div class="pre-heading">
                    {{ section.settings.pre_heading }}
                  </div>
                {% endif %}

                {% if section.settings.heading != blank %}

                  {% comment %}
                  <div class="heading {% if section.settings.title_image != blank %}heading--has-image{% endif %}">

                  <div class="heading {% if section.settings.title_image != blank %}heading--has-image{% endif %}">
                    {{ section.settings.heading }}
                  </div>

                  {% endcomment %}

                  <div class="heading {% if section.settings.title_image != blank %}heading--has-image{% endif %}">
                    {% if section.settings.title_image != blank %}
                      <img src="{{ section.settings.title_image | img_url: '500x' }}" alt="{{ section.settings.heading }}">
                    {% else %}
                      {{ section.settings.heading }}
                    {% endif %}
                  </div>

                {% endif %}
              </h2>
            {% endif %}

            {% if section.settings.text != blank %}
              <div class="hero-banner__text text rte">
               {{ section.settings.text }}
              </div>
            {% endif %}

            {% if section.settings.button_text != blank and section.settings.button_link != blank %}
              <div class="button-wrap">
                <a class="btn {{ section.settings.button_style }} {{ section.settings.button_size }}" href="{{ section.settings.button_link }}" style="width:{{ section.settings.button_width }}px">{{ section.settings.button_text }}</a>
              </div>
            {% endif %}

            {% if section.settings.terms_text %}
              <div class="terms-text">
                {{ section.settings.terms_text }}
              </div>
            {% endif %}

            {%- if section.settings.decorations == true -%}
              <span class="decoration decoration--content-1"></span>
              <span class="decoration decoration--content-2"></span>
              <span class="decoration decoration--content-3"></span>
              <span class="decoration decoration--content-4"></span>
            {%- endif -%}

          </div>

        </div>
      </div>
    </div>
  </div>

  {%- if section.settings.decorations == true -%}
    <span class="decoration decoration--1"></span>
    <span class="decoration decoration--2"></span>
    <span class="decoration decoration--3"></span>
    <span class="decoration decoration--4"></span>
    <span class="decoration decoration--5"></span>
    <span class="decoration decoration--6"></span>
    <span class="decoration decoration--7"></span>
    <span class="decoration decoration--8"></span>
    <span class="decoration decoration--9"></span>
    <span class="decoration decoration--10"></span>
  {%- endif -%}

  {%- if section.settings.parallax_background_image != blank -%}

    <img
      data-src="{{ section.settings.parallax_background_image  | img_url: '1500x' }}"
      data-srcset="
        {{ section.settings.parallax_background_image  | img_url: '1500x' }} 1x,
        {{ section.settings.parallax_background_image  | img_url: '1500x', scale: 2 }} 2x
      "
      alt="{{ section.settings.parallax_background_image.alt }}"
      class="lazyload section-hero-banner__parallax-background"
    >
    
  
  {%- endif -%}

  <style>

    {% comment %}
    #shopify-section-{{ section.id }} .section-hero-banner .heading {
      {%- if section.settings.title_image != blank -%}
        background-image: url({{ section.settings.title_image | img_url: '400x' }});
      {%- endif -%}
    }
    {% endcomment %}

    @media only screen and (min-width: 769px) {

      {% if section.settings.title_width_restrict == true %}

        #shopify-section-{{ section.id }} .section-hero-banner .heading.heading--has-image {
          max-width: {{ section.settings.title_width }}px;
        }

      {% endif %}

    }

    #shopify-section-{{ section.id }} .section-hero-banner .pre-heading,
    #shopify-section-{{ section.id }} .section-hero-banner .heading,
    #shopify-section-{{ section.id }} .section-hero-banner .text,
    #shopify-section-{{ section.id }} .section-hero-banner .terms-text,
    #shopify-section-{{ section.id }} .section-hero-banner p {
      {% if section.settings.text_color != 'rgba(0,0,0,0)' %}
        color: {{ section.settings.text_color }};
      {% endif %}
    }

    #shopify-section-{{ section.id }} .section-hero-banner .btn {
      {% if section.settings.button_color != 'rgba(0,0,0,0)' %}
        color: {{ section.settings.button_color }};
      {% endif %}
    }

    #shopify-section-{{ section.id }} .section-hero-banner .btn:hover {
      {% if section.settings.button_color_hover != 'rgba(0,0,0,0)' %}
        color: {{ section.settings.button_color_hover }};
      {% endif %}
    }

    #shopify-section-{{ section.id }} .section-hero-banner .btn.btn-outline {
      {% if section.settings.button_color != 'rgba(0,0,0,0)' %}
        border-color: {{ section.settings.button_color }};
      {% endif %}
    }

    #shopify-section-{{ section.id }} .section-hero-banner .btn.btn-outline:hover {
      {% if section.settings.button_color_hover != 'rgba(0,0,0,0)' %}
        border-color: {{ section.settings.button_color_hover }};
      {% endif %}
    }

    {% if section.settings.banner_background_color != blank %}

      #shopify-section-{{ section.id }} .section-hero-banner.lazyloaded {
        background: {{ section.settings.banner_background_color }};
      }

    {% endif %}

    {% if section.settings.bg_image != blank %}
      #shopify-section-{{ section.id }} .section-hero-banner.lazyloaded {
        background-image: url({{ section.settings.bg_image | img_url: '2000x' }});
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }
      {% if section.settings.bg_image_mobile != blank %}
        @media only screen and (max-width: 769px) {
          #shopify-section-{{ section.id }} .section-hero-banner.lazyloaded {
            background-image: url({{ section.settings.bg_image_mobile | img_url: '1440x' }});
          }
        }
      {% endif %}
    {% endif %}

    {% if section.settings.mobile_wide_gutters == true %}

      @media only screen and (max-width: 768px) {
        #shopify-section-{{ section.id }} .section-hero-banner .page-width {
          padding: 0 50px;
        }
      }

    {% endif %}

    {% if section.settings.image_loc_mobile == "bottom" %}

    @media only screen and (max-width: 768px) {

      #shopify-section-{{ section.id }} .section-hero-banner {}

      #shopify-section-{{ section.id }} .section-hero-banner .section-hero-banner__content {
        order: 1;
        padding-top: 80px;
      }

      #shopify-section-{{ section.id }} .section-hero-banner .section-hero-banner__image {
        order: 2;
        margin: 0;
        margin-bottom: -50px;
      }

    }

    {% endif %}

    {{ section.settings.custom_styles }}

  </style>

  {%- if section.settings.parallax_background_image != blank -%}

  <script>

      window.addEventListener('DOMContentLoaded', (event) => {
        
        var image = document.querySelector('.section-hero-banner__parallax-background');
        new simpleParallax(image);
        
      });

    </script>

  {%- endif -%}

</section>

{% schema %}
  {
    "name": "Hero Banner",
    "settings": [
      {
        "type": "header",
        "content": "Images"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Content Image"
      },
      {
        "type": "checkbox",
        "id": "mobile_wide_gutters",
        "label": "Enable Wide Gutters on Mobile",
        "default": false,
        "info": "Adds some extra space to the edge of the screen on mobile."
      },
      {
        "type": "checkbox",
        "id": "large_foreground_image",
        "label": "Enable Large Foreground Image",
        "default": false,
        "info": "This layout positions the image at the bottom edge of the section, and makes it take up a larger area."
      },
      {
        "type": "image_picker",
        "id": "title_image",
        "label": "Title Image"
      },
      {
        "type": "checkbox",
        "id": "title_width_restrict",
        "label": "Enable Custom Title Width",
        "default": false,
        "info": "Title image width (desktop only)."
      },
      {
        "type": "range",
        "id": "title_width",
        "label": "Custom Title Width",
        "min": 50,
        "max": 400,
        "step": 25,
        "unit": "px",
        "default": 150
      },
      {
        "type": "select",
        "id": "image_loc",
        "label": "Image Placement (Desktop)",
        "options": [
          { "value": "left", "label": "Left"},
          { "value": "right", "label": "Right"}
        ],
        "default": "left"
      },
      {
        "type": "select",
        "id": "image_loc_mobile",
        "label": "Image Placement (Mobile)",
        "default": "top",
        "options": [
          { "value": "top", "label": "Top"},
          { "value": "bottom", "label": "Bottom"}
        ]
      },
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background Image"
      },
      {
        "type": "image_picker",
        "id": "bg_image_mobile",
        "label": "Background Image - Mobile"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text",
        "id": "pre_heading",
        "label": "Pre-heading",
        "default": "Nail Privilege"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "It’s a thing now"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "richtext",
        "id": "terms_text",
        "label": "Terms and Conditions Text"
      },
      {
        "type": "select",
        "id": "text_align",
        "label": "Text Alignment",
        "options": [
          { "value": "left", "label": "Left"},
          { "value": "center", "label": "Center"},
          { "value": "right", "label": "Right"}
        ],
        "default": "center"
      },
      {
        "type": "header",
        "content": "Buttons"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Button Text"
      },
      {
        "type": "select",
        "id": "button_style",
        "label": "Button Style",
        "options": [
          { "value": "", "label": "Default"},
          { "value": "btn-outline", "label": "Outline"}
        ],
        "default": ""
      },
      {
        "type": "select",
        "id": "button_size",
        "label": "Button Size",
        "options": [
          { "value": "", "label": "Default"},
          { "value": "btn-large", "label": "Large"}
        ],
        "default": ""
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button Link"
      },
      {
        "type": "range",
        "id": "button_width",
        "label": "Button Width",
        "min": 200,
        "max": 400,
        "step": 25,
        "unit": "px",
        "default": 200
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color_background",
        "id": "banner_background_color",
        "label": "Banner - Background Color"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text"
      },
      {
        "type": "color",
        "id": "button_color",
        "label": "Button - Text Color"
      },
      {
        "type": "color",
        "id": "button_color_hover",
        "label": "Button - Text Color - Hover"
      },
      {
        "type": "header",
        "content": "Custom Styles"
      },
      {
        "type": "checkbox",
        "id": "decorations",
        "label": "Enable Decorations",
        "default": false,
        "info": "Enables some empty elements that can be styled for decorations in the banner."
      },
      {
        "type": "textarea",
        "id": "custom_styles",
        "label": "Custom CSS Styles"
      },
      {
        "type": "header",
        "content": "Parallax Background"
      },
      {
        "type": "image_picker",
        "id": "parallax_background_image",
        "label": "Parallax Background Image"
      }
    ],
    "presets": [
      {
        "name": "Banner",
        "category": "Hero"
      }
    ]
  }
{% endschema %}
